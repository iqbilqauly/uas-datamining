
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Analisis Untuk Mengetahui Gangguan Hati(Liver Disorders) &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'uas';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to your Jupyter Book" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Analisis Untuk Mengetahui Gangguan Hati(Liver Disorders)</a></li>





</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fuas.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/uas.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1. Analisis Untuk Mengetahui Gangguan Hati(Liver Disorders)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">1. Analisis Untuk Mengetahui Gangguan Hati(Liver Disorders)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan-analisis-liver-disorders">Tujuan Analisis Liver Disorders</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengertian-livers-disorders">Pengertian Livers Disorders</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding-memahami-data-liver-disoeders">2. Data Understanding / Memahami Data Liver Disoeders</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data">Pengumpulan Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mencari-datasets">Mencari Datasets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-dan-menampilkan-datasets">Mengambil dan Menampilkan Datasets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memahami-data">Memahami Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pengertian-fitur">Pengertian Fitur</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-dan-memahami-data">Explore dan Memahami Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jumlah-data-fitur-dan-tipe-data">Jumlah Data Fitur dan Tipe Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">Identifikasi Kualitas Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-missing-values">1. Deteksi Data Missing Values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-outlier">2. Deteksi Data Outlier</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-duplikasi-datasets">3. Deteksi Duplikasi Datasets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data">3.Preprocessing Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghapus-data-yang-outlier">Menghapus Data Yang Outlier</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling">4. Modelling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemilihan-model">Pemilihan Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussian-naive-bayes-classification">1. GAUSSIAN NAIVE BAYES CLASSIFICATION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#k-nearest-neighbors-knn">2. K-Nearest Neighbors (KNN)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-learning-stacking-learning">3. Ensemble Learning / Stacking Learning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stacking-classifier-meta-classifier">Stacking Classifier (Meta Classifier)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-meta-predict-classifier-model-naive-bayes-manual">A. Meta Predict Classifier Model Naive Bayes Manual</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-p1">Model P1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-p2">Model P2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menggabungkan-hasil-prediksi-2-model">Menggabungkan hasil prediksi 2 model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-stacking-dengan-scikit-learn">Implementasi stacking dengan scikit-learn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bagging-bootstrap-aggregating">3. Bagging (Bootstrap Aggregating)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan-hasil-model-yang-didapatkan">5. Kesimpulan Hasil Model Yang Didapatkan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployment-implementasi-model">Deployment Implementasi Model</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-web">Implementasi Web</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-implementasi-web">Hasil Implementasi Web</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analisis-untuk-mengetahui-gangguan-hati-liver-disorders">
<h1>1. Analisis Untuk Mengetahui Gangguan Hati(Liver Disorders)<a class="headerlink" href="#analisis-untuk-mengetahui-gangguan-hati-liver-disorders" title="Link to this heading">#</a></h1>
<section id="tujuan-analisis-liver-disorders">
<h2>Tujuan Analisis Liver Disorders<a class="headerlink" href="#tujuan-analisis-liver-disorders" title="Link to this heading">#</a></h2>
<p>link menuju website yang sudah kami buat atau hosting : <a class="reference external" href="https://iqbil.pythonanywhere.com/">https://iqbil.pythonanywhere.com/</a></p>
<p>Tujuan dari analisis data terkait gangguan hati adalah untuk mengidentifikasi, memahami, dan mengelola faktor-faktor yang mempengaruhi kesehatan hati guna meningkatkan hasil klinis dan kualitas hidup pasien. Pertama, analisis ini bertujuan untuk mengidentifikasi faktor risiko utama yang berkontribusi terhadap perkembangan gangguan hati, seperti kebiasaan konsumsi alkohol, obesitas, diabetes, atau infeksi virus hepatitis. Dengan memahami faktor-faktor ini, langkah pencegahan yang lebih efektif dapat dirumuskan dan diterapkan.</p>
<p>Selain itu, analisis data ini bertujuan untuk mendeteksi gangguan hati pada tahap awal melalui pengembangan model prediktif. Diagnosis dini memungkinkan intervensi dan pengobatan yang lebih cepat dan efektif, sehingga mengurangi risiko komplikasi serius seperti sirosis atau kanker hati. Analisis data juga membantu dalam memantau perkembangan penyakit pada pasien yang sudah terdiagnosis, memungkinkan penyesuaian rencana perawatan berdasarkan perubahan kondisi pasien.</p>
<p>Tujuan lainnya adalah personalisasi pengobatan, di mana data analisis membantu menentukan regimen pengobatan yang paling efektif berdasarkan profil klinis dan riwayat medis pasien. Hal ini bertujuan untuk meningkatkan hasil klinis dan mengurangi efek samping. Selain itu, evaluasi efektivitas berbagai metode pengobatan dan intervensi medis dalam mengelola gangguan hati juga menjadi tujuan penting, memungkinkan penilaian hasil jangka panjang dari intervensi tersebut.</p>
<p>Secara keseluruhan, analisis data terkait gangguan hati juga mendukung pengembangan kebijakan kesehatan masyarakat yang lebih baik, edukasi pasien dan publik mengenai pentingnya deteksi dini dan gaya hidup sehat, serta peningkatan kualitas dan akurasi data medis yang berkaitan dengan gangguan hati. Akhirnya, analisis ini mendukung penelitian ilmiah dan pengembangan terapi baru untuk gangguan hati, memberikan wawasan yang mendalam dari data yang dianalisis untuk kemajuan medis di masa depan.</p>
</section>
<section id="pengertian-livers-disorders">
<h2>Pengertian Livers Disorders<a class="headerlink" href="#pengertian-livers-disorders" title="Link to this heading">#</a></h2>
<p>Livers Disorders (gangguan hati) mencakup berbagai kondisi medis yang mempengaruhi fungsi hati, yang merupakan organ vital dalam tubuh kita. Hati memiliki peran penting dalam detoksifikasi, sintesis protein, dan produksi bahan kimia yang diperlukan untuk pencernaan. Penyebab gangguan hati sangat beragam, mulai dari infeksi, faktor genetik, gaya hidup, hingga penyakit lain.</p>
<p>Beberapa gangguan hati yang umum termasuk hepatitis, yang merupakan peradangan hati yang sering kali disebabkan oleh infeksi virus atau konsumsi alkohol. Sirosis, atau pengerasan hati, terjadi akibat kerusakan hati jangka panjang dan dapat berujung pada gagal hati. Penyakit hati berlemak adalah kondisi di mana lemak menumpuk di sel-sel hati, dan ini bisa terjadi tanpa adanya konsumsi alkohol (dikenal sebagai NAFLD) yang sering dikaitkan dengan obesitas dan diabetes.</p>
<p>Kanker hati, seperti karsinoma hepatoseluler, biasanya terkait dengan hepatitis kronis atau sirosis. Ada juga fibrosis hati, yang merupakan penumpukan jaringan parut akibat kerusakan hati. Penyakit kuning (jaundice) adalah kondisi di mana kulit dan mata menjadi kuning karena tingginya kadar bilirubin, yang seharusnya diproses oleh hati. Selain itu, ada penyakit hati autoimun di mana sistem kekebalan tubuh menyerang sel-sel hati, serta gangguan genetik seperti hemokromatosis dan penyakit Wilson.</p>
<p>Gejala gangguan hati bisa beragam, termasuk kelelahan, penyakit kuning, nyeri perut, pembengkakan di kaki dan perut, urin gelap, tinja pucat, serta mudah memar atau berdarah. Untuk mendiagnosis gangguan hati, biasanya dilakukan tes darah, pencitraan seperti ultrasonografi, dan kadang-kadang biopsi hati. Pengobatan bergantung pada jenis gangguan yang dialami dan dapat mencakup perubahan gaya hidup, pengobatan medis, atau bahkan operasi. Menjaga kesehatan hati sangat penting untuk kesejahteraan umum, jadi penting untuk memperhatikan pola makan, kebiasaan hidup, dan segera konsultasi ke dokter jika ada gejala yang mencurigakan.</p>
<p>Sumber referensi : <a class="reference external" href="https://my.clevelandclinic.org/health/diseases/17179-liver-disease">https://my.clevelandclinic.org/health/diseases/17179-liver-disease</a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-understanding-memahami-data-liver-disoeders">
<h1>2. Data Understanding / Memahami Data Liver Disoeders<a class="headerlink" href="#data-understanding-memahami-data-liver-disoeders" title="Link to this heading">#</a></h1>
<p>Data understanding adalah salah satu tahapan dalam proses analisis data yang bertujuan untuk memahami data yang akan diolah
sebelum langkah-langkah analisis lebih lanjut dilakukan. Dalam tahap ini, fokus utamanya adalah mengetahui apakah sampel darah yang di klasifikasi terdapat gangguan hati apa tidak.</p>
<section id="pengumpulan-data">
<h2>Pengumpulan Data<a class="headerlink" href="#pengumpulan-data" title="Link to this heading">#</a></h2>
<section id="mencari-datasets">
<h3>Mencari Datasets<a class="headerlink" href="#mencari-datasets" title="Link to this heading">#</a></h3>
<p>Langkah pertama pada pegumpulan data adalah dengan mencari dataset yang akan kita gunakan, sesuai penjelasan di atas kita
akan menggunakan Dataset Liver Disoeders yang bersumber dari UCI Datasets :
<a class="reference external" href="https://archive.ics.uci.edu/dataset/60/liver+disorders">https://archive.ics.uci.edu/dataset/60/liver+disorders</a></p>
</section>
<section id="mengambil-dan-menampilkan-datasets">
<h3>Mengambil dan Menampilkan Datasets<a class="headerlink" href="#mengambil-dan-menampilkan-datasets" title="Link to this heading">#</a></h3>
<p>Setelah menentukan Datasets langkah selanjutnya yakni menampilkan atau mengambil datasets tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># URL dataset Liver Disorders dari UCI Machine Learning Repository</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/liver-disorders/bupa.data&quot;</span>

<span class="c1"># Kolom sesuai dengan deskripsi dataset</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mcv&quot;</span><span class="p">,</span> <span class="s2">&quot;alkphos&quot;</span><span class="p">,</span> <span class="s2">&quot;sgpt&quot;</span><span class="p">,</span> <span class="s2">&quot;sgot&quot;</span><span class="p">,</span> <span class="s2">&quot;gammagt&quot;</span><span class="p">,</span> <span class="s2">&quot;drinks&quot;</span><span class="p">,</span> <span class="s2">&quot;selector&quot;</span><span class="p">]</span>

<span class="c1"># Baca dataset menggunakan pandas</span>
<span class="n">liver_disorders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Pisahkan fitur (X) dan target (y)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">liver_disorders</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;selector&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">liver_disorders</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="n">X</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Gabungkan kembali fitur dan target menjadi satu DataFrame</span>
<span class="n">df_main</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Menampilkan informasi dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_main</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      ID  mcv  alkphos  sgpt  sgot  gammagt  drinks  selector
0      0   85       92    45    27       31     0.0         1
1      1   85       64    59    32       23     0.0         2
2      2   86       54    33    16       54     0.0         2
3      3   91       78    34    24       36     0.0         2
4      4   87       70    12    28       10     0.0         2
..   ...  ...      ...   ...   ...      ...     ...       ...
340  340   99       75    26    24       41    12.0         1
341  341   96       69    53    43      203    12.0         2
342  342   98       77    55    35       89    15.0         1
343  343   91       68    27    26       14    16.0         1
344  344   98       99    57    45       65    20.0         1

[345 rows x 8 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># URL dataset Liver Disorders dari UCI Machine Learning Repository</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/liver-disorders/bupa.data&quot;</span>

<span class="c1"># Kolom sesuai dengan deskripsi dataset</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mcv&quot;</span><span class="p">,</span> <span class="s2">&quot;alkphos&quot;</span><span class="p">,</span> <span class="s2">&quot;sgpt&quot;</span><span class="p">,</span> <span class="s2">&quot;sgot&quot;</span><span class="p">,</span> <span class="s2">&quot;gammagt&quot;</span><span class="p">,</span> <span class="s2">&quot;drinks&quot;</span><span class="p">,</span> <span class="s2">&quot;selector&quot;</span><span class="p">]</span>

<span class="c1"># Baca dataset menggunakan pandas</span>
<span class="n">liver_disorders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Simpan dataset ke dalam file CSV</span>
<span class="n">csv_file_path</span> <span class="o">=</span> <span class="s2">&quot;liver_disorders.csv&quot;</span>
<span class="n">liver_disorders</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">csv_file_path</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liver_disorders</span><span class="o">.</span><span class="n">info</span><span class="p">())</span> <span class="c1">#untuk menampilkan info fitur-fitur yang ada di tabel</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 345 entries, 0 to 344
Data columns (total 7 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   mcv       345 non-null    int64  
 1   alkphos   345 non-null    int64  
 2   sgpt      345 non-null    int64  
 3   sgot      345 non-null    int64  
 4   gammagt   345 non-null    int64  
 5   drinks    345 non-null    float64
 6   selector  345 non-null    int64  
dtypes: float64(1), int64(6)
memory usage: 19.0 KB
None
</pre></div>
</div>
</div>
</div>
</section>
<section id="memahami-data">
<h3>Memahami Data<a class="headerlink" href="#memahami-data" title="Link to this heading">#</a></h3>
<p>Datasets Liver Disoeders adalah data yang diambil dari UCI datasets, Liver Disoeders (Gangguan Hati) sendiri adalah kondisi medis yang mempengaruhi fungsi hati. Hati adalah organ vital yang bertanggung jawab atas berbagai fungsi penting dalam tubuh, termasuk detoksifikasi darah, produksi protein penting, metabolisme lemak, dan penyimpanan glikogen. Gangguan hati dapat disebabkan oleh berbagai faktor, seperti infeksi, konsumsi alkohol berlebihan, obat-obatan, dan penyakit genetik. Pada data kali ini tentang liver disoerders memiliki 7 fitur, 5 fitur yaitu mcv, alkphos, sgpt, sgot, gammagt yang menentukan darah itu ada penyakit atau tidak, sedangkan 2 fitur  drinks dan selector adalah mentukan jumlah alkohol yang diminum dan digunakan untuk pemisahan data latih/uji. Jumlah data yang ada dalam datasets liver disoerders sebanyak 345 dan tidak memiliki missing value. Memiliki data Outlier sebanyak 7 data.</p>
</section>
<section id="pengertian-fitur">
<h3>Pengertian Fitur<a class="headerlink" href="#pengertian-fitur" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>MCV (Mean Corpuscular Volume): MCV adalah ukuran rata-rata volume sel darah merah dalam darah. Nilai MCV dapat memberikan informasi tentang jenis anemia yang mungkin dialami pasien, seperti anemia defisiensi besi atau anemia megaloblastik. type data MCV adalah numerik</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Alkphos (Alkaline Phosphotase): Alkphos adalah enzim alkali fosfatase yang diproduksi oleh hati dan tulang. Level alkphos yang tinggi dalam darah dapat menunjukkan adanya kerusakan hati atau masalah tulang. type data Alkphos adalah numerik</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Sgpt (Alanine Aminotransferase): Sgpt, juga dikenal sebagai ALT, adalah enzim alanine aminotransferase yang banyak ditemukan dalam sel hati. Peningkatan level sgpt dalam darah bisa menunjukkan kerusakan hati.</p></li>
</ol>
<p>type data Sgpt adalah numerik</p>
<ol class="arabic simple" start="4">
<li><p>Sgot (Aspartate Aminotransferase): Sgot, juga dikenal sebagai AST, adalah enzim aspartate aminotransferase yang ditemukan dalam hati dan otot jantung. Peningkatan level sgot dalam darah bisa menunjukkan kerusakan hati atau jantung. type data Sgot adalah numerik</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Gammagt (Gamma-Glutamyl Transferase): Gammagt adalah enzim gamma-glutamyl transferase yang terlibat dalam metabolisme asam amino. Peningkatan level gammagt dalam darah dapat menunjukkan adanya masalah pada hati atau saluran empedu.</p></li>
</ol>
<p>type data Gammagt adalah numerik</p>
<ol class="arabic simple" start="6">
<li><p>Drinks: Fitur ini mencatat jumlah minuman beralkohol yang dikonsumsi oleh pasien per hari. Konsumsi alkohol yang berlebihan dapat menjadi faktor risiko utama untuk kerusakan hati. type data Drinks adalah numerik</p></li>
</ol>
<ol class="arabic simple" start="7">
<li><p>Selector: Fitur ini digunakan untuk mengklasifikasikan apakah seorang pasien didiagnosis dengan penyakit hati atau tidak. Nilai dalam fitur ini adalah sebagai berikut:</p></li>
</ol>
<p>Nilai 1: Menunjukkan bahwa pasien tidak terkena penyakit hati.</p>
<p>Nilai 2: Menunjukkan bahwa pasien terkena penyakit hati.</p>
<p>Fitur ini membantu dalam membedakan antara pasien yang sehat dan yang mengalami gangguan hati berdasarkan hasil tes darah lainnya. Fitur Selector penting dalam analisis dan pemodelan machine learning karena berfungsi sebagai label atau target yang digunakan untuk melatih model klasifikasi. type data Selector adalah numerik</p>
</section>
</section>
<section id="explore-dan-memahami-data">
<h2>Explore dan Memahami Data<a class="headerlink" href="#explore-dan-memahami-data" title="Link to this heading">#</a></h2>
<section id="jumlah-data-fitur-dan-tipe-data">
<h3>Jumlah Data Fitur dan Tipe Data<a class="headerlink" href="#jumlah-data-fitur-dan-tipe-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># URL dataset Liver Disorders dari UCI Machine Learning Repository</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/liver-disorders/bupa.data&quot;</span>

<span class="c1"># Kolom sesuai dengan deskripsi dataset</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mcv&quot;</span><span class="p">,</span> <span class="s2">&quot;alkphos&quot;</span><span class="p">,</span> <span class="s2">&quot;sgpt&quot;</span><span class="p">,</span> <span class="s2">&quot;sgot&quot;</span><span class="p">,</span> <span class="s2">&quot;gammagt&quot;</span><span class="p">,</span> <span class="s2">&quot;drinks&quot;</span><span class="p">,</span> <span class="s2">&quot;selector&quot;</span><span class="p">]</span>

<span class="c1"># Baca dataset menggunakan pandas</span>
<span class="n">liver_disorders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">liver_disorders</span><span class="o">.</span><span class="n">info</span><span class="p">())</span> <span class="c1">#untuk menampilkan info fitur-fitur yang ada di tabel</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 345 entries, 0 to 344
Data columns (total 7 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   mcv       345 non-null    int64  
 1   alkphos   345 non-null    int64  
 2   sgpt      345 non-null    int64  
 3   sgot      345 non-null    int64  
 4   gammagt   345 non-null    int64  
 5   drinks    345 non-null    float64
 6   selector  345 non-null    int64  
dtypes: float64(1), int64(6)
memory usage: 19.0 KB
None
</pre></div>
</div>
</div>
</div>
<p>Jadi dataset liver disoerders  memiliki 7 fitur yang dianatranya ada :</p>
<ol class="arabic simple">
<li><p>mcv dengan tipe data numerik (int)</p></li>
<li><p>alkphos dengan tipe data numerik (int)</p></li>
<li><p>sgpt dengan tipe data numerik (int)</p></li>
<li><p>sgot dengan tipe data numerik (int)</p></li>
<li><p>gammagt dengan tipe data numerik (int)</p></li>
<li><p>drinks dengan tipe data numerik (float)</p></li>
<li><p>selector dengan tipe data numerik (int)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">desc</span> <span class="o">=</span> <span class="n">liver_disorders</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;deskripsi data : &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">desc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>deskripsi data : 
              mcv     alkphos        sgpt        sgot     gammagt      drinks  \
count  345.000000  345.000000  345.000000  345.000000  345.000000  345.000000   
mean    90.159420   69.869565   30.405797   24.643478   38.284058    3.455072   
std      4.448096   18.347670   19.512309   10.064494   39.254616    3.337835   
min     65.000000   23.000000    4.000000    5.000000    5.000000    0.000000   
25%     87.000000   57.000000   19.000000   19.000000   15.000000    0.500000   
50%     90.000000   67.000000   26.000000   23.000000   25.000000    3.000000   
75%     93.000000   80.000000   34.000000   27.000000   46.000000    6.000000   
max    103.000000  138.000000  155.000000   82.000000  297.000000   20.000000   

         selector  
count  345.000000  
mean     1.579710  
std      0.494322  
min      1.000000  
25%      1.000000  
50%      2.000000  
75%      2.000000  
max      2.000000  
</pre></div>
</div>
</div>
</div>
<p>Kode diatas menunjukkan semua deskripsi data liver disoerders mulai jumlah sampai max data berikut penjelasan detailnya :</p>
<ol class="arabic simple">
<li><p>Count: jumlah total pengamatan atau sampel dalam dataset untuk fitur ini</p></li>
<li><p>Mean: rata-rata volume sel darah merah</p></li>
<li><p>Std: standar deviasi, yang mengukur seberapa jauh data menyebar dari rata-rata</p></li>
<li><p>Min: nilai minimum atau terkecil dari MCV dalam dataset</p></li>
<li><p>25%: nilai kuartil pertama, yang menunjukkan bahwa 25% dari data memiliki nilai MCV di bawah 87</p></li>
<li><p>50% (Median): (nilai tengah, yang menunjukkan bahwa 50% dari data memiliki nilai MCV di bawah 90 dan 50% lainnya di atas 90</p></li>
<li><p>75%: (nilai kuartil ketiga, yang menunjukkan bahwa 75% dari data memiliki nilai MCV di bawah 93</p></li>
<li><p>Max: (nilai maksimum atau terbesar dari MCV dalam dataset</p></li>
</ol>
</section>
</section>
<section id="identifikasi-kualitas-data">
<h2>Identifikasi Kualitas Data<a class="headerlink" href="#identifikasi-kualitas-data" title="Link to this heading">#</a></h2>
<p>Identifikasi data ada beberapa tahap yakni mulai dari pengecekan atau deteksi data tersebut apakah terdapat Data Duplikat, Missing
Value, dan Outlier.Jika terdapat duplikasi data maka kita bisa menghapusnya. Jika terdapat missing value kita juga dapat melakukan
proses imputasi data yang null atau missing dengan beberapa metode yakni metode Knn dan Mean. Lalu Tahap selanjutnya kita
melakukan Deteksi Outlier jika terdapat data outlier yang terlalu jauh. Meskipun terdeteksi adanya outlier namun model dianggap
dapat mengakomodasinya sehingga outlier tidak dihilangkan. Maka dibawah ini urutan tahapan Preprocessing Data :</p>
<ol class="arabic simple">
<li><p>Deteksi Data Missing Values</p></li>
<li><p>Deteksi Data Outlier</p></li>
<li><p>Deteksi Duplikasi Data</p></li>
</ol>
<section id="deteksi-data-missing-values">
<h3>1. Deteksi Data Missing Values<a class="headerlink" href="#deteksi-data-missing-values" title="Link to this heading">#</a></h3>
<p>Code dibawah ini melakukan pengecekan apakah terdapat data missing values dan dimunculkan jumlahnya masing-masing disetiap
fiturnya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df_liver</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;liver_disorders.csv&#39;</span><span class="p">)</span>

<span class="c1"># Melakukan pengecekan apakah terdapat missing value dalam setiap kolom</span>
<span class="n">missing_val</span> <span class="o">=</span> <span class="n">df_liver</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Menampilkan berapa jumlah adanya missing value untuk setiap kolomnya</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah nilai yang hilang untuk setiap kolom:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_val</span><span class="p">)</span>

<span class="c1"># Melakukan pengecekan apakah ada nilai null atau missing value</span>
<span class="k">if</span> <span class="n">missing_val</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tidak ada missing value.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Terdapat missing value dalam dataset.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah nilai yang hilang untuk setiap kolom:
mcv         0
alkphos     0
sgpt        0
sgot        0
gammagt     0
drinks      0
selector    0
dtype: int64
Tidak ada missing value.
</pre></div>
</div>
</div>
</div>
<p>Dari hasil pengecekan data diatas dapat kita simpulkan bahwasannya tidak terdapat adanya missing value pada data (Raisin). Maka
dari hasil tersebut kita tidak perliu melakukan Proses imputasi data missing value.</p>
</section>
<section id="deteksi-data-outlier">
<h3>2. Deteksi Data Outlier<a class="headerlink" href="#deteksi-data-outlier" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="c1"># Misalkan df_main adalah DataFrame yang digunakan</span>
<span class="n">df_main_lof</span> <span class="o">=</span> <span class="n">df_main</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Menggunakan semua kolom fitur untuk deteksi outlier</span>
<span class="n">columns_for_lof</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_main</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Inisialisasi model LOF</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Mendeteksi outlier</span>
<span class="n">outlier_scores</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_main</span><span class="p">[</span><span class="n">columns_for_lof</span><span class="p">])</span>
<span class="n">df_main_lof</span><span class="p">[</span><span class="s1">&#39;LOF_Score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">lof</span><span class="o">.</span><span class="n">negative_outlier_factor_</span>

<span class="c1"># Menampilkan DataFrame dengan skor LOF</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_main_lof</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Mengurutkan DataFrame berdasarkan skor LOF (semakin tinggi skor, semakin besar kemungkinan outlier)</span>
<span class="n">df_main_lof_sorted</span> <span class="o">=</span> <span class="n">df_main_lof</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;LOF_Score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Memilih maksimal 5 outlier dengan skor LOF tertinggi</span>
<span class="n">top_outliers</span> <span class="o">=</span> <span class="n">df_main_lof_sorted</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top 5 outliers:&quot;</span><span class="p">)</span>
<span class="n">top_outliers</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_outliers</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   ID  mcv  alkphos  sgpt  sgot  gammagt  drinks  selector  LOF_Score
0   0   85       92    45    27       31     0.0         1   1.464486
1   1   85       64    59    32       23     0.0         2   1.322340
2   2   86       54    33    16       54     0.0         2   1.692692
3   3   91       78    34    24       36     0.0         2   1.553913
4   4   87       70    12    28       10     0.0         2   1.197745
Top 5 outliers:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>mcv</th>
      <th>alkphos</th>
      <th>sgpt</th>
      <th>sgot</th>
      <th>gammagt</th>
      <th>drinks</th>
      <th>selector</th>
      <th>LOF_Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>35</th>
      <td>35</td>
      <td>91</td>
      <td>72</td>
      <td>155</td>
      <td>68</td>
      <td>82</td>
      <td>0.5</td>
      <td>2</td>
      <td>2.483046</td>
    </tr>
    <tr>
      <th>40</th>
      <td>40</td>
      <td>84</td>
      <td>92</td>
      <td>68</td>
      <td>37</td>
      <td>44</td>
      <td>0.5</td>
      <td>2</td>
      <td>1.879551</td>
    </tr>
    <tr>
      <th>84</th>
      <td>84</td>
      <td>92</td>
      <td>60</td>
      <td>30</td>
      <td>27</td>
      <td>297</td>
      <td>2.0</td>
      <td>2</td>
      <td>1.874117</td>
    </tr>
    <tr>
      <th>122</th>
      <td>122</td>
      <td>90</td>
      <td>134</td>
      <td>14</td>
      <td>20</td>
      <td>14</td>
      <td>4.0</td>
      <td>2</td>
      <td>1.855205</td>
    </tr>
    <tr>
      <th>110</th>
      <td>110</td>
      <td>87</td>
      <td>76</td>
      <td>22</td>
      <td>55</td>
      <td>9</td>
      <td>4.0</td>
      <td>2</td>
      <td>1.786149</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Memuat dataset ke dalam DataFrame</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_main_lof</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Menghapus kolom &#39;ID&#39; dari DataFrame</span>
<span class="n">df_liver</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Memilih fitur numerik untuk deteksi outlier</span>
<span class="n">numeric_features</span> <span class="o">=</span> <span class="n">df_liver</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>

<span class="c1"># Menginisialisasi model LOF dengan nilai contamination yang lebih rendah</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>  <span class="c1"># Menurunkan nilai contamination</span>

<span class="c1"># Mendeteksi outlier</span>
<span class="n">outlier_scores</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">numeric_features</span><span class="p">)</span>
<span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outlier_scores</span>

<span class="c1"># Menampilkan jumlah outlier</span>
<span class="n">num_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">outlier_scores</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah outlier yang terdeteksi:&quot;</span><span class="p">,</span> <span class="n">num_outliers</span><span class="p">)</span>

<span class="c1"># Mendeteksi outlier per fitur dengan nilai contamination yang lebih rendah</span>
<span class="n">outlier_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>  <span class="c1"># Menggunakan nilai contamination yang sama</span>

<span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">numeric_features</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">outlier_scores</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">numeric_features</span><span class="p">[[</span><span class="n">feature</span><span class="p">]])</span>
    <span class="n">outlier_dict</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span> <span class="o">=</span> <span class="n">outlier_scores</span>

<span class="c1"># Menampilkan jumlah outlier per fitur</span>
<span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">scores</span> <span class="ow">in</span> <span class="n">outlier_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">num_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">scores</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah outlier untuk fitur &#39;</span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">num_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Visualisasi outlier per fitur</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">numeric_features</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_liver</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">numeric_features</span><span class="p">[</span><span class="n">feature</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">outlier_dict</span><span class="p">[</span><span class="n">feature</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Index&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Outlier Detection for Feature: </span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Menampilkan data outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_liver</span><span class="p">[</span><span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah outlier yang terdeteksi: 7
Jumlah outlier untuk fitur &#39;mcv&#39;: 5
Jumlah outlier untuk fitur &#39;alkphos&#39;: 4
Jumlah outlier untuk fitur &#39;sgpt&#39;: 7
Jumlah outlier untuk fitur &#39;sgot&#39;: 5
Jumlah outlier untuk fitur &#39;gammagt&#39;: 6
Jumlah outlier untuk fitur &#39;drinks&#39;: 6
Jumlah outlier untuk fitur &#39;selector&#39;: 0
Jumlah outlier untuk fitur &#39;LOF_Score&#39;: 7
</pre></div>
</div>
<img alt="_images/b23ca1e9f757fb76d2df4e78ee3557ffe05ff9284befaa88ce686ee83c010ab8.png" src="_images/b23ca1e9f757fb76d2df4e78ee3557ffe05ff9284befaa88ce686ee83c010ab8.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data outlier:
     mcv  alkphos  sgpt  sgot  gammagt  drinks  selector  LOF_Score  outlier
21    93       23    35    20       20     0.5         1   1.530219       -1
35    91       72   155    68       82     0.5         2   2.483046       -1
68   103       75    19    30       13     1.0         2   1.284888       -1
84    92       60    30    27      297     2.0         2   1.874117       -1
110   87       76    22    55        9     4.0         2   1.786149       -1
223   65       63    19    20       14     0.5         2   1.373833       -1
334   91      138    45    21       48    10.0         1   1.300384       -1
</pre></div>
</div>
</div>
</div>
<p>Dari kode diatas menujukkan bahwasanya terdapat data yang outlier pada dataset liver disoerders yang berjumlah 35 data</p>
</section>
<section id="deteksi-duplikasi-datasets">
<h3>3. Deteksi Duplikasi Datasets<a class="headerlink" href="#deteksi-duplikasi-datasets" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">duplicates</span> <span class="o">=</span> <span class="n">df_main</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data yang Duplikat:&quot;</span><span class="p">,</span> <span class="n">duplicates</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data yang Duplikat: 0
</pre></div>
</div>
</div>
</div>
<p>Jadi pada datasets ini tidak ada data yang duplikat</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="preprocessing-data">
<h1>3.Preprocessing Data<a class="headerlink" href="#preprocessing-data" title="Link to this heading">#</a></h1>
<p>Pada proses klasifikasi perlu dilakukan pengolahan data awal terlebih dahulu atau biasa disebut preprocessing data. Pada
Identifikasi data understanding diatas kita mendeteksi missing value (telah dilakukan diatas) dan diketahui pada dataset tidak terdapat data yang
kosong. Kemudian tahap berikutnya adalah mendeteksi outlier dan terdapat sejumlah 35 data yang outlier dan tidak ada data yang duplikat.</p>
<section id="menghapus-data-yang-outlier">
<h2>Menghapus Data Yang Outlier<a class="headerlink" href="#menghapus-data-yang-outlier" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mengumpulkan indeks data yang merupakan outlier</span>
<span class="n">outlier_indices</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">scores</span> <span class="ow">in</span> <span class="n">outlier_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">outlier_indices</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">numeric_features</span><span class="p">[</span><span class="n">scores</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Menghapus data outlier dari DataFrame sesuai dengan jumlah outlier yang diinginkan</span>
<span class="n">outlier_indices_to_remove</span> <span class="o">=</span> <span class="n">outlier_indices</span><span class="p">[:</span><span class="mi">7</span><span class="p">]</span>
<span class="n">df_liver_cleaned</span> <span class="o">=</span> <span class="n">df_liver</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">outlier_indices_to_remove</span><span class="p">)</span>

<span class="n">df_liver_cleaned</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;liver_disorders_cleaned.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Menampilkan DataFrame setelah menghapus data outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DataFrame setelah menghapus data outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_liver_cleaned</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DataFrame setelah menghapus data outlier:
     mcv  alkphos  sgpt  sgot  gammagt  drinks  selector  LOF_Score  outlier
0     85       92    45    27       31     0.0         1   1.464486        1
1     85       64    59    32       23     0.0         2   1.322340        1
2     86       54    33    16       54     0.0         2   1.692692        1
3     91       78    34    24       36     0.0         2   1.553913        1
4     87       70    12    28       10     0.0         2   1.197745        1
..   ...      ...   ...   ...      ...     ...       ...        ...      ...
340   99       75    26    24       41    12.0         1   1.014327        1
341   96       69    53    43      203    12.0         2   1.326926        1
342   98       77    55    35       89    15.0         1   1.085512        1
343   91       68    27    26       14    16.0         1   1.038744        1
344   98       99    57    45       65    20.0         1   1.265574        1

[338 rows x 9 columns]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modelling">
<h1>4. Modelling<a class="headerlink" href="#modelling" title="Link to this heading">#</a></h1>
<p>Proses modelling dalam analisis data adalah langkah penting di mana Anda menggunakan berbagai teknik statistik atau algoritma
machine learning untuk memahami, menganalisis, dan/atau memprediksi pola dalam data.</p>
<section id="pemilihan-model">
<h2>Pemilihan Model<a class="headerlink" href="#pemilihan-model" title="Link to this heading">#</a></h2>
<p>Metode Klasifikasi adalah teknik dalam analisis data yang digunakan untuk memisahkan atau mengelompokkan data ke dalam
kategori atau kelas berdasarkan atribut-atribut yang ada. Tujuannya adalah untuk membangun model yang dapat memprediksi kelas
atau label dari data yang tidak terlihat sebelumnya berdasarkan fitur-fitur yang diamati. Disini kita menggunakan Metode Klasifikasi
Naive Bayes dikarenakan cocok digunakan untuk klasifikasi teks dan memiliki kinerja yang baik dalam dataset dengan dimensi tinggi.
Kita Langsung saja Implementasikan.</p>
<section id="gaussian-naive-bayes-classification">
<h3>1. GAUSSIAN NAIVE BAYES CLASSIFICATION<a class="headerlink" href="#gaussian-naive-bayes-classification" title="Link to this heading">#</a></h3>
<p>Gaussian Naive Bayes merupakan sebuah teknik klasifikasi yang digunakan dalam machine learning dengan menggunakan metode
probability dan Distribusi Gaussian atau Distiribusi Normal. Gaussian Distribution mengasumsikan bahwa setiap feature pada data
memiliki penngaruh yang independent dalam memprediksi target. Kombinasi prediksi dari seluruh parameter adalah prediksi akhir
dengan probability dari target variable yang diklasifikasikan ke dalam dua kelas. Klasifikasi akhirnya adalah hasil probability yang
lebih tinggi dari grup target maka itu adalah kelas dari suatu data.</p>
<p>Membagi Data Train &amp; Data Test</p>
<p>Dalam perbandingan studi kasus kita membagi datanya 80% Data Train sedangkan Data Testnya 20%. Hal ini dilakukan agar saat
kita melakukan prediksi terhadap data baru, kita mendapat hasil yang lebih efektif. Dan apakah hasil tersebut tepat maka kita
langsung saja membagi data tersebut lalu melakukan proses klasifikasi dengan metode NaiveBayes Prediksi dengan bantuan
Sklearn Modelling Naives Bayes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>


<span class="c1"># Memuat dataset</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_liver_cleaned</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Memilih fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="c1"># Membagi dataset menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Menggabungkan data latih dan target</span>
<span class="n">trained</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Menyimpan data latih dan target ke file CSV</span>
<span class="n">trained</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;LiverDisorders_train.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Menampilkan data latih dan target</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trained</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     mcv  alkphos  sgpt  sgot  gammagt  drinks  selector
7     88       67    21    11       11     0.5         1
231   87       57    30    30       22     0.5         2
149   91       63    25    26       15     6.0         1
308   92       67    15    14       14     6.0         1
304   93      102    47    23       37     5.0         2
..   ...      ...   ...   ...      ...     ...       ...
192   84       97    41    20       32     0.0         2
73    90       73    34    21       22     2.0         1
109   88      107    29    20       50     4.0         2
277   85       58    83    49       51     3.0         2
105   89       35    27    29       17     4.0         1

[270 rows x 7 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">X_test</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">trained</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;LiverDisorders_test.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     mcv  alkphos  sgpt  sgot  gammagt  drinks  selector
113   88       80    24    25       17     4.0         2
340   99       75    26    24       41    12.0         1
189   94       83    81    34      201    20.0         1
78    91       55     9    25       16     2.0         2
216   91       84    11    12       10     0.5         1
..   ...      ...   ...   ...      ...     ...       ...
184   98       57    31    34       73    10.0         2
75    90       80    19    14       42     2.0         1
16    89       67    23    16       10     0.5         1
68   103       75    19    30       13     1.0         2
111   87       86    28    23       21     4.0         2

[68 rows x 7 columns]
</pre></div>
</div>
</div>
</div>
<p>Hasil Prediksi naive bayes</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>

<span class="n">gaussian_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">gaussian_model</span> <span class="o">=</span> <span class="n">gaussian_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">gaussian_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">accuracy_gnb</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Akurasi: </span><span class="si">{</span><span class="n">accuracy_gnb</span><span class="si">:</span><span class="s1">.2%</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 63.24%
</pre></div>
</div>
</div>
</div>
</section>
<section id="k-nearest-neighbors-knn">
<h3>2. K-Nearest Neighbors (KNN)<a class="headerlink" href="#k-nearest-neighbors-knn" title="Link to this heading">#</a></h3>
<p>K-Nearest Neighbors (KNN) adalah salah satu metode dalam machine learning yang digunakan untuk klasifikasi dan regresi. Metode ini bekerja dengan cara mencari k-tetangga terdekat dari data yang baru (data uji) dalam ruang fitur, di mana k adalah jumlah tetangga yang ditentukan sebelumnya. Kemudian, berdasarkan mayoritas kelas dari tetangga-tetangga tersebut, data uji diklasifikasikan ke dalam kelas tersebut (untuk klasifikasi) atau nilai prediksi dihitung (untuk regresi).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># Memuat dataset Liver Disorders yang sudah dimuat sebelumnya</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_liver_cleaned</span>

<span class="c1"># Memilih fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="c1"># Encode labels</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Bagi data menjadi set pelatihan dan pengujian</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Inisialisasi classifier KNN dengan k=3</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Latih model pada set pelatihan</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data pelatihan</span>
<span class="n">X_train_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">accuracy_train</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">X_train_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy Train:&quot;</span><span class="p">,</span> <span class="n">accuracy_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data pengujian</span>
<span class="n">X_test_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy_test</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">X_test_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy Test:&quot;</span><span class="p">,</span> <span class="n">accuracy_test</span><span class="p">)</span>

<span class="c1"># Prediksi untuk instance baru</span>
<span class="c1"># new_data = [[91,46,30,24,39,7.0]]  # Contoh data baru, sesuaikan dengan fitur-fitur pada dataset Liver Disorders</span>
<span class="c1"># prediction = classifier.predict(new_data)</span>
<span class="c1"># print(&quot;Prediksi untuk data inputan baru:&quot;, label_encoder.inverse_transform(prediction), &quot;Atau&quot; , prediction)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy Train: 0.7851851851851852
Accuracy Test: 0.6617647058823529
</pre></div>
</div>
</div>
</div>
</section>
<section id="ensemble-learning-stacking-learning">
<h3>3. Ensemble Learning / Stacking Learning<a class="headerlink" href="#ensemble-learning-stacking-learning" title="Link to this heading">#</a></h3>
<p>Metode ensemble adalah teknik yang menggabungkan beberapa classifier individu untuk membentuk classifier baru, dengan tujuan
untuk mencapai hasil yang lebih akurat. Metode ini telah banyak digunakan dalam berbagai penelitian karena terbukti mampu
meningkatkan akurasi. Dalam metode ensemble, beberapa classifier individu digabungkan untuk menggabungkan kelebihan
masing-masing classifier sehingga kinerja keseluruhan dalam menyelesaikan tugas menjadi lebih baik. Contoh umum dari metode
ensemble termasuk bagging, boosting, dan stacking. Namun, dalam kesempatan ini, kami hanya akan menggunakan bagging dan
stacking untuk meningkatkan model.</p>
</section>
<section id="stacking-classifier-meta-classifier">
<h3>Stacking Classifier (Meta Classifier)<a class="headerlink" href="#stacking-classifier-meta-classifier" title="Link to this heading">#</a></h3>
<p>(Stacked Generalization) adalah teknik pembelajaran ensemble yang bertujuan untuk menggabungkan beberapa model untuk
meningkatkan kinerja prediktif. Ini melibatkan langkah-langkah berikut:</p>
<ol class="arabic simple">
<li><p>Model Dasar : Melatih beberapa model pada kumpulan data yang sama.</p></li>
<li><p>Meta-Model : Melatih model baru untuk menggabungkan prediksi model dasar. Menggunakan prediksi model dasar sebagai fitur
masukan untuk model meta.
Keuntungan / Kelebihan nya :</p></li>
<li><p>Memanfaatkan Keanekaragaman Model : Dengan menggabungkan berbagai jenis model, penumpukan dapat menangkap berbagai
pola dalam data.</p></li>
<li><p>Meningkatkan Performa : Model meta mempelajari cara terbaik untuk menggabungkan prediksi dari model dasar, yang sering kali
menghasilkan peningkatan performa dibandingkan model individual.</p></li>
</ol>
</section>
<section id="a-meta-predict-classifier-model-naive-bayes-manual">
<h3>A. Meta Predict Classifier Model Naive Bayes Manual<a class="headerlink" href="#a-meta-predict-classifier-model-naive-bayes-manual" title="Link to this heading">#</a></h3>
</section>
<section id="model-p1">
<h3>Model P1<a class="headerlink" href="#model-p1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># Memuat dataset Liver Disorders yang sudah dimuat sebelumnya</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_liver_cleaned</span>

<span class="c1"># Memilih fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="c1"># Encode labels</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Bagi data menjadi set pelatihan dan pengujian</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Inisialisasi classifier KNN dengan k=3</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Latih model pada set pelatihan</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data pelatihan</span>
<span class="n">X_train_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">accuracy_train</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">X_train_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy Train:&quot;</span><span class="p">,</span> <span class="n">accuracy_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data pengujian</span>
<span class="n">X_test_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy_test</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">X_test_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy Test:&quot;</span><span class="p">,</span> <span class="n">accuracy_test</span><span class="p">)</span>

<span class="c1"># Prediksi untuk instance baru</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">91</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mf">7.0</span><span class="p">]]</span>  <span class="c1"># Contoh data baru, sesuaikan dengan fitur-fitur pada dataset Liver Disorders</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prediksi untuk data inputan baru:&quot;</span><span class="p">,</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">prediction</span><span class="p">),</span> <span class="s2">&quot;Atau&quot;</span> <span class="p">,</span> <span class="n">prediction</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy Train: 0.7851851851851852
Accuracy Test: 0.6617647058823529
Prediksi untuk data inputan baru: [2] Atau [1]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\LENOVO\AppData\Local\Programs\Python\Python310\lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
<section id="model-p2">
<h3>Model P2<a class="headerlink" href="#model-p2" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># Memuat dataset Liver Disorders yang sudah dimuat sebelumnya</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_liver_cleaned</span>

<span class="c1"># Memilih fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="c1"># Encode labels</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Bagi data menjadi set pelatihan dan pengujian</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Inisialisasi classifier KNN dengan k=5</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Latih model pada set pelatihan</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data pelatihan</span>
<span class="n">X_train_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">accuracy_train</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">X_train_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy Train:&quot;</span><span class="p">,</span> <span class="n">accuracy_train</span><span class="p">)</span>

<span class="c1"># Evaluasi model pada data pengujian</span>
<span class="n">X_test_pred</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">accuracy_test</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">X_test_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy Test:&quot;</span><span class="p">,</span> <span class="n">accuracy_test</span><span class="p">)</span>

<span class="c1"># Prediksi untuk instance baru</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">91</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mf">7.0</span><span class="p">]]</span>  <span class="c1"># Contoh data baru, sesuaikan dengan fitur-fitur pada dataset Liver Disorders</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prediksi untuk data inputan baru:&quot;</span><span class="p">,</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">prediction</span><span class="p">),</span> <span class="s2">&quot;Atau&quot;</span> <span class="p">,</span> <span class="n">prediction</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy Train: 0.7851851851851852
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy Test: 0.7058823529411765
Prediksi untuk data inputan baru: [2] Atau [1]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\LENOVO\AppData\Local\Programs\Python\Python310\lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
<section id="menggabungkan-hasil-prediksi-2-model">
<h3>Menggabungkan hasil prediksi 2 model<a class="headerlink" href="#menggabungkan-hasil-prediksi-2-model" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prediksi menggunakan model pertama (P1)</span>
<span class="n">X_train_pred_p1</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_pred_p1</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Inisialisasi model kedua (P2) dengan k=5</span>
<span class="n">classifier_p2</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">classifier_p2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi menggunakan model kedua (P2)</span>
<span class="n">X_train_pred_p2</span> <span class="o">=</span> <span class="n">classifier_p2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_pred_p2</span> <span class="o">=</span> <span class="n">classifier_p2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Menggabungkan hasil prediksi menjadi satu dataframe untuk data latih</span>
<span class="n">combined_train_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;P1&#39;</span><span class="p">:</span> <span class="n">X_train_pred_p1</span><span class="p">,</span>
    <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="n">X_train_pred_p2</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">y_train</span>
<span class="p">})</span>

<span class="c1"># Simpan DataFrame ke file CSV untuk data latih</span>
<span class="n">combined_train_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_train.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Menggabungkan hasil prediksi menjadi satu dataframe untuk data uji</span>
<span class="n">combined_test_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;P1&#39;</span><span class="p">:</span> <span class="n">X_test_pred_p1</span><span class="p">,</span>
    <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="n">X_test_pred_p2</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">y_test</span>
<span class="p">})</span>

<span class="c1"># Buat DataFrame gabungan untuk data latih yang telah di-dekode</span>
<span class="n">combined_train_df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;P1&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">X_train_pred_p1</span><span class="p">),</span>
    <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">X_train_pred_p2</span><span class="p">),</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_train</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1"># Simpan DataFrame ke file CSV untuk data latih yang telah di-dekode</span>
<span class="n">combined_train_df1</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_train1.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Buat DataFrame gabungan untuk data uji yang telah di-dekode</span>
<span class="n">combined_test_df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;P1&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">X_test_pred_p1</span><span class="p">),</span>
    <span class="s1">&#39;P2&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">X_test_pred_p2</span><span class="p">),</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1"># Simpan DataFrame ke file CSV untuk data uji yang telah di-dekode</span>
<span class="n">combined_test_df1</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_test1.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="c1"># Simpan DataFrame ke file CSV untuk data uji</span>
<span class="n">combined_test_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;combine_test.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>hasil train</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_train.csv&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>P1</th>
      <th>P2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>265</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>266</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>267</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>268</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>269</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>270 rows  3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_train1.csv&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>P1</th>
      <th>P2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>265</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>266</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>267</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>268</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>269</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>270 rows  3 columns</p>
</div></div></div>
</div>
<p>hasil test</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_test.csv&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>P1</th>
      <th>P2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>63</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>64</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>65</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>66</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>67</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>68 rows  3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;combine_test1.csv&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>P1</th>
      <th>P2</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>63</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>64</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>65</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>66</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>67</th>
      <td>1</td>
      <td>1</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>68 rows  3 columns</p>
</div></div></div>
</div>
</section>
<section id="implementasi-stacking-dengan-scikit-learn">
<h3>Implementasi stacking dengan scikit-learn<a class="headerlink" href="#implementasi-stacking-dengan-scikit-learn" title="Link to this heading">#</a></h3>
<p>Setelah memahami proses stacking classifier untuk meningkatkan model secara manual, langkah berikutnya adalah memanfaatkan
library untuk melatih model dasar. Melatih model dasar satu per satu bukanlah solusi praktis, terutama karena kami berencana
menggunakan 20 model KNN dengan nilai K yang berbeda. Oleh karena itu, kami akan menggunakan bantuan library untuk
mempercepat dan mempermudah proses pelatihan ini. Prediksi dari 20 model tersebut kemudian akan digabungkan dan dimasukkan
ke dalam model Gaussian Naive Bayes untuk tahap akhir prediksi. Dengan pendekatan ini, kami berharap dapat mengoptimalkan
kinerja model secara keseluruhan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">make_pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">StackingClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>

<span class="c1"># Memuat dataset Liver Disorders yang sudah dimuat sebelumnya</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_liver_cleaned</span>

<span class="c1"># Memilih fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="c1"># Split data menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Inisialisasi model KNN untuk P1 dan P2</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;knn_p1&#39;</span><span class="p">,</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">)),</span> <span class="p">(</span><span class="s1">&#39;knn_p2&#39;</span><span class="p">,</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">))]</span>

<span class="c1"># Inisialisasi StackingClassifier dengan GaussianNB sebagai final estimator</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">StackingClassifier</span><span class="p">(</span>
    <span class="n">estimators</span><span class="o">=</span><span class="n">estimators</span><span class="p">,</span> <span class="n">final_estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Latih StackingClassifier</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Evaluasi akurasi untuk masing-masing model KNN dan simpan hasilnya</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">:</span>
    <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy of </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">accuracies</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">accuracy</span>

<span class="c1"># Tampilkan akurasi untuk masing-masing model KNN</span>
<span class="k">for</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">accuracy</span> <span class="ow">in</span> <span class="n">accuracies</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Prediksi untuk data baru menggunakan masing-masing model KNN</span>
<span class="c1"># Menggunakan contoh data baru yang sesuai dengan fitur-fitur Liver Disorders</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">85</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>  <span class="c1"># Sesuaikan dengan fitur-fitur pada dataset Liver Disorders</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimators</span><span class="p">:</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">predictions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediction of </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">pred</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Hitung jumlah prediksi untuk setiap kelas</span>
<span class="n">unique_classes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">counts</span> <span class="o">=</span> <span class="p">{</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">predictions</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">pred</span> <span class="o">==</span> <span class="bp">cls</span><span class="p">)</span> <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">unique_classes</span><span class="p">}</span>
<span class="c1"># Tampilkan jumlah prediksi untuk setiap kelas</span>
<span class="k">for</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Class </span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> predictions&quot;</span><span class="p">)</span>

<span class="c1"># Prediksi untuk data baru menggunakan StackingClassifier</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Prediction for X_new: </span><span class="si">{</span><span class="n">prediction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Evaluasi performa secara keseluruhan dari stacking classifier</span>
<span class="n">avg_acc</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Overall Stacking Classifier Performance:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Accuracy: </span><span class="si">{</span><span class="n">avg_acc</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Dapatkan prediksi dari model</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy of knn_p1: 0.6618
Accuracy of knn_p2: 0.7059
knn_p1: 0.6618
knn_p2: 0.7059
Prediction of knn_p1: 2
Prediction of knn_p2: 2
Class 1: 0 predictions
Class 2: 2 predictions

Prediction for X_new: 2

Overall Stacking Classifier Performance:
Accuracy: 0.7059
              precision    recall  f1-score   support

           1       0.58      0.48      0.52        23
           2       0.76      0.82      0.79        45

    accuracy                           0.71        68
   macro avg       0.67      0.65      0.66        68
weighted avg       0.70      0.71      0.70        68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\LENOVO\AppData\Local\Programs\Python\Python310\lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
C:\Users\LENOVO\AppData\Local\Programs\Python\Python310\lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
C:\Users\LENOVO\AppData\Local\Programs\Python\Python310\lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
C:\Users\LENOVO\AppData\Local\Programs\Python\Python310\lib\site-packages\sklearn\base.py:493: UserWarning: X does not have valid feature names, but KNeighborsClassifier was fitted with feature names
  warnings.warn(
</pre></div>
</div>
</div>
</div>
</section>
<section id="bagging-bootstrap-aggregating">
<h3>3. Bagging (Bootstrap Aggregating)<a class="headerlink" href="#bagging-bootstrap-aggregating" title="Link to this heading">#</a></h3>
<p>Bagging, kependekan dari agregasi bootstrap, terutama diterapkan dalam klasifikasi dan regresi . Hal ini meningkatkan akurasi
model melalui pohon keputusan, sehingga mengurangi varians secara signifikan. Pengurangan varians meningkatkan akurasi,
menghilangkan overfitting, yang merupakan tantangan bagi banyak model prediktif. Secara umum untuk masalah regresi. Ini
melibatkan pengambilan rata-rata prediksi. Rata-rata yang dihasilkan digunakan sebagai prediksi keseluruhan untuk model
gabungan.</p>
<p>Proses Klasifikasi Bagging melibatkan langkah-langkah berikut:</p>
<ol class="arabic simple">
<li><p>Kita mengambil dataset pelatihan awal yang dimiliki.</p></li>
<li><p>Lalu kita membuat sejumlah m subset data dari set pelatihan. Kami mengambil subset N titik sampel dari dataset awal untuk
setiap subset. Setiap subset diambil dengan penggantian. Artinya, titik data tertentu dapat diambil sampelnya lebih dari satu kali.</p></li>
<li><p>Lalu model yang sama (classifier) diterapkan pada setiap set data pelatihan ini dan menghasilkan prediksi masing-masing.</p></li>
<li><p>Setiap model membuat prediksi.</p></li>
<li><p>Terakhir tingga menggabungkan prediksi menjadi satu prediksi. Untuk ini, gunakan max voting atau averaging.</p></li>
</ol>
<p>Setelah memahami maka pada percobaan kali ini bagging kami menggunakan 20 gaussian naive bayes yang menerima subset
berbeda satu sama lain. Berikut Ini Implementasinya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># Memuat dataset Liver Disorders yang sudah dimuat sebelumnya</span>
<span class="n">df_liver</span> <span class="o">=</span> <span class="n">df_liver_cleaned</span>

<span class="c1"># Memilih fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_liver</span><span class="p">[</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span>

<span class="c1"># Encode labels</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Split data menjadi data latih dan data uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Parameters for bagging</span>
<span class="n">n_estimators</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span> <span class="o">/</span> <span class="n">n_estimators</span><span class="p">)</span>

<span class="c1"># Initialize lists to store models and accuracies</span>
<span class="n">estimators</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">accuracies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">pred</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Data for prediction</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">91</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">]],</span>
                      <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mcv&#39;</span><span class="p">,</span> <span class="s1">&#39;alkphos&#39;</span><span class="p">,</span> <span class="s1">&#39;sgpt&#39;</span><span class="p">,</span> <span class="s1">&#39;sgot&#39;</span><span class="p">,</span> <span class="s1">&#39;gammagt&#39;</span><span class="p">,</span> <span class="s1">&#39;drinks&#39;</span><span class="p">])</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Create Gaussian Naive Bayes models for each subset</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_estimators</span><span class="p">):</span>
    <span class="c1"># Create a bootstrap sample</span>
    <span class="n">bootstrap_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span> <span class="n">n_samples</span><span class="p">)</span>
    <span class="n">X_train_bootstrap</span> <span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">bootstrap_indices</span><span class="p">]</span>
    <span class="n">y_train_bootstrap</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">bootstrap_indices</span><span class="p">]</span>

    <span class="c1"># Train the model</span>
    <span class="n">gnb_model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
    <span class="n">gnb_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_bootstrap</span><span class="p">,</span> <span class="n">y_train_bootstrap</span><span class="p">)</span>
    <span class="n">estimators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gnb_model</span><span class="p">)</span>

    <span class="c1"># Evaluate the model</span>
    <span class="n">bebas</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
    <span class="n">pred</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bebas</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># Store the prediction in the list</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediction by estimator </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">bebas</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">gnb_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">accuracies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">accuracy</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estimator </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> accuracy: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Majority vote for new data prediction</span>
<span class="n">pred_majority_vote</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Majority vote prediction for new data: </span><span class="si">{</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([</span><span class="n">pred_majority_vote</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Count the number of predictions for each class</span>
<span class="n">class_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span>
<span class="n">classes</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">class_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">classes</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah prediksi kelas </span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">class_counts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="mi">0</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Calculate the average accuracy of all estimators</span>
<span class="n">average_accuracy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">accuracies</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average accuracy of all estimators: </span><span class="si">{</span><span class="n">average_accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Prediction by estimator 1: 1
Estimator 1 accuracy: 0.5588
Prediction by estimator 2: 1
Estimator 2 accuracy: 0.6765
Prediction by estimator 3: 0
Estimator 3 accuracy: 0.6176
Prediction by estimator 4: 0
Estimator 4 accuracy: 0.3824
Prediction by estimator 5: 0
Estimator 5 accuracy: 0.3382
Prediction by estimator 6: 1
Estimator 6 accuracy: 0.5441
Prediction by estimator 7: 0
Estimator 7 accuracy: 0.4559
Prediction by estimator 8: 0
Estimator 8 accuracy: 0.3824
Prediction by estimator 9: 1
Estimator 9 accuracy: 0.6765
Prediction by estimator 10: 0
Estimator 10 accuracy: 0.4265
Prediction by estimator 11: 1
Estimator 11 accuracy: 0.4706
Prediction by estimator 12: 1
Estimator 12 accuracy: 0.5441
Prediction by estimator 13: 1
Estimator 13 accuracy: 0.6324
Prediction by estimator 14: 1
Estimator 14 accuracy: 0.5735
Prediction by estimator 15: 0
Estimator 15 accuracy: 0.5147
Prediction by estimator 16: 1
Estimator 16 accuracy: 0.6471
Prediction by estimator 17: 1
Estimator 17 accuracy: 0.6471
Prediction by estimator 18: 0
Estimator 18 accuracy: 0.5000
Prediction by estimator 19: 1
Estimator 19 accuracy: 0.6029
Prediction by estimator 20: 1
Estimator 20 accuracy: 0.5588
Majority vote prediction for new data: 2
Jumlah prediksi kelas 1: 8
Jumlah prediksi kelas 2: 12
Average accuracy of all estimators: 0.5375
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="kesimpulan-hasil-model-yang-didapatkan">
<h1>5. Kesimpulan Hasil Model Yang Didapatkan<a class="headerlink" href="#kesimpulan-hasil-model-yang-didapatkan" title="Link to this heading">#</a></h1>
<p>Dari keempat model yang kami buat sebelumnya dapat dikatakan ada yang baik dan ada yang kurang baik, hal itu dapat dilihat dari akurasi yang didapat dari masing masing model yang sudah kita buktikan dengan hasil ada yang diatas 80% dan ada yang dibawah 80%
hasilnya.</p>
<ul class="simple">
<li><p>single model dengan GNB : mendapatkan akurasi 63.24%
atau 0.6324.</p></li>
</ul>
<ul class="simple">
<li><p>K-Nearest Neighbors (KNN) : mendapatkan akurasi 66.17% atau 0.6617.</p></li>
</ul>
<ul class="simple">
<li><p>stacking dengan KNN (model dasar) dan GNB (model meta) : mendapatkan akurasi 70.59% atau 0.7059.</p></li>
</ul>
<ul class="simple">
<li><p>bagging dengan GNB : mendapatkan akurasi 53.75% atau 0.5375.</p></li>
</ul>
<p>dari keempat model diatas dapat dilihat bahwa model terbaik adalah stacking karena mendapatkan akurasi tertinggi
dari ketiga model yang telah dibuat yakni 70.59% atau 0.7059. Jadi langkah selanjutnya kita pakai model terbaik tersebut untuk
implementasinya.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="deployment-implementasi-model">
<h1>Deployment Implementasi Model<a class="headerlink" href="#deployment-implementasi-model" title="Link to this heading">#</a></h1>
<p>Pada tahap ini kita akan membuat implementasi Model stacking  sebagai model untuk menentukan klasifikasi untuk
menentukan apakah pasien mengalami gangguan hati atau tidak mengalami gangguan hati.</p>
<p>Dalam Implementasi yang kita buat kita menggunakan Python Flask yang tentunya membutuhkan library flask untuk
menjalankannya.</p>
<section id="implementasi-web">
<h2>Implementasi Web<a class="headerlink" href="#implementasi-web" title="Link to this heading">#</a></h2>
<p>Tahapan Implementasi Flask untuk Prediksi Liver Disorders</p>
<ol class="arabic simple">
<li><p>Mengimpor Library yang Diperlukan</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>Inisialisasi Aplikasi Flask</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Memuat dan Melatih Model</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Mendefinisikan Rute Utama dan Logika Prediksi</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Menjalankan Aplikasi Flask</p></li>
</ol>
<p>Maka Otomatis Web Flask kita bisa digunakan jika kita sesuaikan tahapan dan code yang kita buat. berikut adalah link implementasi
yang sudah kita upload di github berikut linknya :</p>
<section id="hasil-implementasi-web">
<h3>Hasil Implementasi Web<a class="headerlink" href="#hasil-implementasi-web" title="Link to this heading">#</a></h3>
<p>link menuju website yang sudah kami buat atau hosting : <a class="reference external" href="https://iqbil.pythonanywhere.com/">https://iqbil.pythonanywhere.com/</a></p>
<a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https://deepnote.com?utm_source=created-in-deepnote-cell&projectId=116d6c0e-dd40-449a-a6c6-9c3c8922170c' target="_blank">
<img alt='Created in deepnote.com' style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > </img>
Created in <span style='font-weight:600;margin-left:4px;'>Deepnote</span></a></section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to your Jupyter Book</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">1. Analisis Untuk Mengetahui Gangguan Hati(Liver Disorders)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan-analisis-liver-disorders">Tujuan Analisis Liver Disorders</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengertian-livers-disorders">Pengertian Livers Disorders</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding-memahami-data-liver-disoeders">2. Data Understanding / Memahami Data Liver Disoeders</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data">Pengumpulan Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mencari-datasets">Mencari Datasets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-dan-menampilkan-datasets">Mengambil dan Menampilkan Datasets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memahami-data">Memahami Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pengertian-fitur">Pengertian Fitur</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-dan-memahami-data">Explore dan Memahami Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jumlah-data-fitur-dan-tipe-data">Jumlah Data Fitur dan Tipe Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifikasi-kualitas-data">Identifikasi Kualitas Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-missing-values">1. Deteksi Data Missing Values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-data-outlier">2. Deteksi Data Outlier</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-duplikasi-datasets">3. Deteksi Duplikasi Datasets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data">3.Preprocessing Data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghapus-data-yang-outlier">Menghapus Data Yang Outlier</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling">4. Modelling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemilihan-model">Pemilihan Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussian-naive-bayes-classification">1. GAUSSIAN NAIVE BAYES CLASSIFICATION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#k-nearest-neighbors-knn">2. K-Nearest Neighbors (KNN)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-learning-stacking-learning">3. Ensemble Learning / Stacking Learning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stacking-classifier-meta-classifier">Stacking Classifier (Meta Classifier)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-meta-predict-classifier-model-naive-bayes-manual">A. Meta Predict Classifier Model Naive Bayes Manual</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-p1">Model P1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-p2">Model P2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menggabungkan-hasil-prediksi-2-model">Menggabungkan hasil prediksi 2 model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-stacking-dengan-scikit-learn">Implementasi stacking dengan scikit-learn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bagging-bootstrap-aggregating">3. Bagging (Bootstrap Aggregating)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan-hasil-model-yang-didapatkan">5. Kesimpulan Hasil Model Yang Didapatkan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deployment-implementasi-model">Deployment Implementasi Model</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-web">Implementasi Web</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-implementasi-web">Hasil Implementasi Web</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
       Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>